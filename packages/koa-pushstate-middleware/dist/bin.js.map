{"version":3,"sources":["../src/bin.js"],"names":["app","opts","key","resoleve","__dirname","cert","resolve","directory","process","argv","use","server","createServer","callback","then","port","listen","question","yellow","prompt","change"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,mBAAZ;AACA,IAAMC,OAAO;AACXC,OAAK,eAAKC,QAAL,CAAcC,SAAd,EAAyB,SAAzB,CADM;AAEXC,QAAM,eAAKC,OAAL,CAAaF,SAAb,EAAwB,UAAxB;AAFK,CAAb;;AAKA,IAAMG,YAAYC,QAAQC,IAAR,CAAa,CAAb,CAAlB;AACAT,IAAIU,GAAJ,CAAQ,qBAAU,EAAEH,oBAAF,EAAV,CAAR;;AAEA,IAAMI,SAAS,gBAAMC,YAAN,CAAmBX,IAAnB,EAAyBD,IAAIa,QAAJ,EAAzB,CAAf;;AAEA,0BAAO,IAAP,EAAaC,IAAb,CAAkB,gBAAQ;AACxB,MAAIC,SAAS,IAAb,EAAmB;AACjBJ,WAAOK,MAAP,CAAcD,IAAd;AACA;AACD;;AAED,MAAME,WAAW,gBAAMC,MAAN,wDAAjB;;AAEAC,SAAOF,QAAP,EAAiB,IAAjB,EAAuBH,IAAvB,CAA4B,kBAAU;AACpCM,cAAUT,OAAOK,MAAP,CAAcD,IAAd,CAAV;AACD,GAFD;AAGD,CAXD","file":"bin.js","sourcesContent":["import Koa from 'koa'\nimport https from 'https'\nimport path from 'path'\nimport chalk from 'chalk'\nimport detect from 'detect-port'\nimport pushState from './index'\n\nconst app = new Koa()\nconst opts = {\n  key: path.resoleve(__dirname, 'key.pem'),\n  cert: path.resolve(__dirname, 'cert.pem')\n}\n\nconst directory = process.argv[2]\napp.use(pushState({ directory }))\n\nconst server = https.createServer(opts, app.callback())\n\ndetect(5000).then(port => {\n  if (port === 3000) {\n    server.listen(port)\n    return\n  }\n\n  const question = chalk.yellow(`Default port 5000 is in use. Change to another port?`)\n\n  prompt(question, true).then(change => {\n    change && server.listen(port)\n  })\n})\n\n"]}